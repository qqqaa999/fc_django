# Django
<패스트캠퍼스 Django 강의>

## 웹 프레임워크에 대한 이해
    
 #####   프레임워크란
 + 자주 사용되는 코드를 체계화화여 쉽게 사용할 수 있도록 도와주는 코드 집합(클래스와 인터페이스의 집합)
 + 라이브러리와 혼동될 수 있지만 좀 더 규모가 크고 프로젝트의 기반이 됨
 + 건축에 비유하면 구조를 만드는 골조가 프레임 워크라면 그 외 자재들이 라이브러리가 됨
 
 #### Web 프레임워크
 + 웹 개발에 필요한 기본적인 구조와 코드(클래스, 함수 등)가 만들어져 있음
    + <웹 프레임워크> URL 파싱, 요청 파싱, 응답 생성, 세션 관리, 데이터베이스 연동, 관리자 페이지
    + <개발 영역> 비즈니스 로직, 데이터 정의

#### Django란
* Python으로 기반으로 만들어진 Web Application Framework 임.
* 장고의 목표 : 데이터베이스 기반 웹 사이트를 작성하는데 있어 수고를 더는 것이 주된 목표임.
* 장점
    * App 단위의 독립적인 구성<분업의 유리>
    * 반복적으로 구현해야 하는 부분이 이미 만들어져 있음 ex) 로그인, 회원가입, 인증 등등
    * 프론트와 관련된 프레임워크(React, Vue, angular)와 같은것을 사용하지 않고도 만들 수 있음
    * 데이터베이스 테이블을 models.py에 클래스로 작성하여 작업량을 줄이며, 한번 작업하면 테이블까지 생성되어 매핑되기 때문에 편하게 작업 가능함
    * 보안 : 장고는 다양한 공격을 방지할 수 있는 기능들이 이미 구현되어 있음
    * Admin을 이용하여 빠르게 요건을 구현한 후 수정해 나갈 수 있음 <https://www.slideshare.net/hannal.cha/django-admin-81652288> 를 참고
* 단점
    * 파이썬의 단점을 그래도 가져옴 <속도가 느림>
    * ORM 기반이기 때문에 원하는 결과가 나오지 않을떄가 있음


#### 라이브러리
 - 라이브러리는 단순 활용가능한 도구들의 집합을 말합니다.    
    즉, 개발자가 만든 클래스에서 호출하여 사용, 클래스들의 나열로 필요한 클래스를 불러서 사용하는 방식
+ 프로그래머가 어떠한 기능을 수행하기 위해 도움을 주는 또는 필요한 것을 제공해주는 역할을 하는 것
+ 라이브러리는 재사용이 필요한 기능으로 반복적인 코드 작성을 없애기 위해 언제든지 필요한 곳에서 호출하여 사용할 수 있도록 Class나 Function으로 만들어짐
+ 프로그램을 만들때 기존에 만들어진 함수들을 재활용함으로써, 프로그램의 제작 시간과 노력을 줄일 수 있음, 필요한 함수만 호출하여 사용할 수 있음
+ 독립성을 가지고, 응용 프로그램이 능동적으로 라이브러리를 사용함

#### 프레임워크 vs  라이브러리
+ 차이점: 제어권의 주도성을 누가 가지고 있느냐에 따라 차이가 있음
+ 프레임워크는 제어권을 스스로 가지며 사용자가 프레임워크에 필요한 코드를 만듬(비즈니스 로직)
+ 라이브러리는 사용자가 제어권을 가지고 있으며 라이브러리를 호출하여 사용함
+ 제어권: 프레임워크<내포> 라이브러리<호출>

#### API(Application Programming Interface)
응용 프로그램을 만드는데 사용된 Interface임
+ Interface란 서로 다른 사물이나 시스템 간에 커뮤니케이션(소통)이 가능하도록 설계한 상호 작용 방식
+ API는 응용 프로그램 간에 서로 호환이 가능하도록 상호 작용하는 방법을 정해 놓은 것
    + 직관적으로 말하면 API는 응용 프로그램 간에 데이터를 주고받는 방법

#### Class와 Object<객체>
- Class는 똑같은 무엇가를 계속해서 만들수 있는 설계, 틀과 같음 ex) 자동차 공장, 붕어빵 틀 등등
Object는 Class에 의해서 만들어진 물건, 실체를 말함 ex) 자동차, 붕어빵 등등

특징
* Class로 만들어진 Object는 Object별 독립적인 성격을 가짐 ex) 한 Object가 망가져도 다른 Object는 영향을 받지 않음
* Instance : Class에 의해서 만들어진 Object를 인스턴스라고도 함
    * 인스턴스는 특정 객체가 어떤 클래스의 객체인지를 관계 위주로 설명할 때 사용
    * 클래스와 구체적인 객체 사이의 관꼐에 초점을 맞추면 인스턴스라는 용어를 사용함

## 디자인 패턴

#### MVC패턴
* MVC는 Model-View-Controller의 약자이며 디자인 패턴중의 하나임
* Model, View, Controller 세 가지로 역할에 따라 구분한느 패턴임
<디자인 패턴이란 효율적으로 코드를 작성하기 위한 코딩 규칙 or 프로젝트 구조>
*   * Model : 데이터 보유 및 처리 로직 (DB 관련)
    * View : 유저와 어플리케이션 간의 인터페이스 (화면 요청에 대한 결과물을 보여줌)
    * Controller : 모델과 뷰를 이어주는 역할 (유저의 입력과 요청에 관찬 처리를 Model에 의뢰함)
    ![MVC_이미지](https://blog.kakaocdn.net/dn/dIShYR/btq6cTveSuR/a4SOarsnoUf7JqF4adMzW0/tfile.svg)
#### MVC패턴의 특징
* 장점 : MVC패턴은 각각의 구성 요소가 분리되어 본연의 역할에만 충실한 구조임 그래서 유연성이 높고 유지보수가 용이하며 개발자와 디자이너 작업 영역을 분리할 수 있음
* 단점 : 프로젝트 규모가 클수록 컨트롤러가 비대화 되고 모델과 뷰의 의존성을 완벽히 분리 할 수 없기에 유지보수가 점점 어려워짐 이를 보안한 디자인 패턴 (MVP, MVVM 등등)

#### MTV패턴
* Django는 MVC(Model-View_Controller)를 기반으로 한 프레임워크임, MVC패턴을 Django에서는 MTV(Model-Template-View)패턴이라고 부르기도함 <Spring에서는 MVC로 부름>
*   Django에서는 MTV에 URL을 추가함 
*   1. User가 URL로 요청을 보냄
*   2. URLConf를 통해 URL과 매핑된 View를 호출
*   3. View는 요청에 따라 적절한 로직을 수행하며 이 과정에서 Model에 CRUD를 지시함
*   4. Model은 ORM을 통해 DB와 소통하며 CRUD를 수행함
*   5. View는 지정된 Template를 랜더링 함
*   6. User에게 응답함

    ![MTV_이미지](https://1.bp.blogspot.com/-upCjCNPicRc/XjfZTiPxLNI/AAAAAAAACkQ/lXvlwoCQQPk43nEkNL1WSSq9gQgltMe2wCLcBGAsYHQ/s1600/2.png)

## CRUD
* CRUD는 대부분의 ***컴퓨터 소프트웨어***가 가지는 기본적인 데이터 처리 기능인 Create(생성), Read(읽기), Update(갱신), Delete(삭제)룰 묶어서 일컽는 말임.
* ***사용자 인터페이스***가 갖추어야 할 기능(정보의 참조/검색/갱신)을 가리키는 용어로서도 사용됨.

*   이름 | SQL | 사용자 인터페이스 EX
    * C : Create (생성) | INSERT | 커뮤니티 또는 게시판의 글 쓰기
    * R : Read   (읽기) | SELECT | 커뮤니티 또는 게시판의 글 읽기
    * U : Update (갱신) | UPDATE | 커뮤니티 또는 게시판의 글 편집
    * D : Delete (삭제) | DELETE | 커뮤니티 또는 게시판의 글 삭제

## ORM(Object Relational Mapping)
* 장고에서 ORM이란 무엇인가? ORM의 장정과 단점은 무엇인가? 예시는 무엇인가?
* ORM이란 : Object-Relational-Mapping의 약자로 객체와 관계형 데이터베이스의 데이터를 매핑해주는 것을 의미함.
    * 객체지향 프로그래밍(OOP)은 Class 사용 관계형 데이터베이스(RDBMS)에서는 테이블을 사용함.
    * 객체지향 프로그래밍은 필드와 메서드등을 묶어서 캡슐화하고 ***사용하는것이*** 목표, 관계형 데이터베이스에서는 데이터를 잘 정규화해서 ***보관하는것이*** 목표
* 기능 : 객체간의 관계를 바탕으로 SQL을 자동 생성하여 SQL 퀴리문 없이도 데이터베이스의 데이터를 사용가능하게 함.
    ![ORM_이미지](https://yunsikus.github.io/assets/img/post_img/django_orm1.jpg)

* 장점
    * SQL query가 아닌 직관적인 코드로 데이터를 조작할 수 있어 개발자가 객체 모델로 프로그래밍 하는데 집중 할 수 있음
    * 각 객체에 대한 코드를 별도로 작성하기 때문에 코드 가독성이 좋음(선언문, 할당, 종료 같은 부수적인 코드가 줄어듬)
    * SQL의 절차적이고 순차적인 접근이 아닌 객체지향적인 접근으로 생산성이 좋음
    * 재사용 및 유지보수가 용이하고 매핑정보가 명확하며 ERD 의존성이 낮음
    * DBMS(DataBase Management System) 종속성이 낮음

* 단점
    * 완벽한 ORM만으로는 서비스 구현이 어려움, 사용하기는 편하나 설계는 신중히 해야함.
    * 프로젝트 복잡성이 커질 경우 난이도가 높아짐.
    * 잘못 구현하게 되면 속도가 저하되고 일관성이 없어질 수 있음

* 예시 : 회원에 나이정보를 추가하려고 함
    * ORM : Member 클래스에 age를 추가
    *  Without ORM : Insert, Select, Update등 관련된 모든 퀴리에 age 정보를 추가

* 쿼리셋이란
    * ***전달받은 모델의 객체 목록(핵심)***
    * 데이터베이스로부터 데이터를 읽고 필터를 걸거나 정렬등을 할 수 있음
    * 리스트와 구조는 같지만 파이썬 기본 자료구조가 아니기에 읽고 쓰기 위해서는 자료형 변환을 해줘야함. 퀴리셋은 데이터베이스의 여러 레코드(row)를 나타냄

참고 : <https://yunsikus.github.io/development/django/2021/05/19/Django_ORM/>

## CDN(Content Delivery Network)

* CDN이란 지리적으로 분산된 여러 개의 서버 이며, 지리적 제약 없이 전 세계 사용자들에게 빠르게 콘텐츠를 전송하는 기술임.
    * CDN을 마치 ATM처럼 생각하면 이해하기 쉬움
* 원리 : 프록시 서버에서 출발한 웹 캐시의 클라우드화임, 전세계 각지에 캐시 서버를 엄청 많이 설치하고 사용자가 접속하면 가장 가까이 있는 캐시 서버가 정보를 보냄 
    * 캐시(Cache)란 : 자주 사용하는 데이터나 값을 미리 복사해 놓는 임시 장소를 말하며, 캐시는 저장 공간이 작고 비용이 비싼 대신 빠른 성능을 제공함. 
    * 프록시(Proxy)란 : 서버와 클라이언트 사이에서 대리로 통신을 수행해주 것을 프록시라고 함.
    * 프록시 서버(Proxy Server)란 : 클라이언트가 자신을 거쳐 다른 네트워크에 접속할 수 있도록 ***중간에서 대리해주는 서버***를 말함.
    * 프록시 서버 사용 목적
        1. 캐시 데이터 사용하기 위함 [캐시 저장 -> 외부 트래픽 줄임 -> 네트워크 병목 현상 방지]
        2. 보안 목적 [IP 숨기기, 방화벽]
        3. 접속 우회
    * 클라우드란 : 인터넷을 통해 액세스할 수 있는 서버와 이러한 서버에서 작동하는 소프트웨어와 데이터베이스를 의미함. 즉, 웹(Web)상의 중앙컴퓨터에서 받은 동일한 파일을 받을 수 있는 곳.
* 장점
    1. 병목 현상 해결
        1. 자주 사용되는 파일의 병목현상을 해결할 수 있음
        2. 데이터를 항상 빠르고 안정적으로 전송할 수 있음
        3. ISP에 장애가 발생해도 다른 ISP에 있는 캐시 서버에서 데이터를 전송하므로 전송 중단이 발생하지 않지만, 이렇게 되려면 여러 국가에 분산된 다수의 캐시 서버가 필요함.
    2. 트래픽 절약
        1. CDN을 쓰면 트래픽이 줄어들기 때문에 서버 유지 비용도 저절로 감소됨 원리는 caching과 비슷하며 자주 쓰이는 파일들을 중간중간에 replica로 만들어 놓아서 클라이언트가 replica에 접근할 수 있게 함